<!DOCTYPE html>
<html lang="uk">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–ü–æ–º–∏–ª–∫–∞ <%= error.status || '500' %>
        </title>
        <link rel="stylesheet" href="/stylesheets/style.css">
        <link rel="stylesheet" href="/stylesheets/error.css">
    </head>

    <body>
        <div class="error-container">
            <div class="error-icon">üòï</div>
            <div class="error-code">
                <%= error.status || '500' %>
            </div>
            <div class="error-message">
                <%= message || '–©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫' %>
            </div>
            <div class="error-description">
                <% if (error.status==404) { %>
                    –í–∏–±–∞—á—Ç–µ, —Å—Ç–æ—Ä—ñ–Ω–∫–∞, —è–∫—É –≤–∏ —à—É–∫–∞—î—Ç–µ, –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞. –ú–æ–∂–ª–∏–≤–æ, –≤–æ–Ω–∞ –±—É–ª–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–∞ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–∞.
                    <% } else if (error.status==403) { %>
                        –£ –≤–∞—Å –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É. –ë—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞—à—ñ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É.
                        <% } else if (error.status==500) { %>
                            –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–∂–µ –ø—Ä–∞—Ü—é—î –Ω–∞–¥ —ó—ó –≤–∏—Ä—ñ—à–µ–Ω–Ω—è–º.
                            <% } else { %>
                                –í–∏–±–∞—á—Ç–µ –∑–∞ –Ω–µ–∑—Ä—É—á–Ω–æ—Å—Ç—ñ. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –ø—ñ–∑–Ω—ñ—à–µ.
                                <% } %>
            </div>

            <div class="button-group">
                <a href="/" class="btn btn-primary">üè† –ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
                <button onclick="history.back()" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
            </div>

            <% if (error.stack) { %>
                <div class="toggle-details" onclick="toggleDetails()">
                    üìã –ü–æ–∫–∞–∑–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ
                </div>

                <div id="errorDetails" class="error-details">
                    <h3>–¢–µ—Ö–Ω—ñ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:</h3>
                    <pre><%= error.stack %></pre>
                </div>
                <% } %>
        </div>

        <script>
            function toggleDetails() {
                const details = document.getElementById('errorDetails');
                const toggle = document.querySelector('.toggle-details');

                if (details.classList.contains('show')) {
                    details.classList.remove('show');
                    toggle.textContent = 'üìã –ü–æ–∫–∞–∑–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ';
                } else {
                    details.classList.add('show');
                    toggle.textContent = '‚úñ –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ';
                }
            }

            const errorCode = <% - JSON.stringify(error.status || 500) %>;
            const errorIcon = document.querySelector('.error-icon');

            if (errorCode === 404) {
                errorIcon.textContent = 'üîç';
            } else if (errorCode === 403) {
                errorIcon.textContent = 'üîí';
            } else if (errorCode === 500) {
                errorIcon.textContent = '‚ö†Ô∏è';
            } else if (errorCode >= 400 && errorCode < 500) {
                errorIcon.textContent = '‚ùå';
            } else {
                errorIcon.textContent = 'üòï';
            }
        </script>
    </body>

</html>